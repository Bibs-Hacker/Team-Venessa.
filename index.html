<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Venesaa – Miss KMTC Kisumu 2025</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ff1493">
    <style>
        :root{
            --pink:#ff69b4;--hotpink:#ff1493;--purple:#9b59b6;
            --neon-blue:#00ffff;--neon-purple:#da00ff;--glow:0 0 45px rgba(255,20,147,0.9);
            --soft-pink:rgba(255,182,193,0.15);--soft-blue:rgba(0,255,255,0.12);
        }
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
        html{scroll-behavior:smooth;overflow-x:hidden;}
        body{
            font-family:'Poppins',sans-serif;background:#0a0616;color:#fff;
            overflow-x:hidden;transition:background .9s ease;
            background:radial-gradient(circle at 50% 100%,#1a0d2e 0%,#000 100%);
            min-height:100vh;
        }
        body.light{background:#fff5fb;color:#333;}

        /* ROMANTIC SPLASH – NOW A LOVE STORY */
        #splash{
            position:fixed;inset:0;background:#000;z-index:9999;
            display:flex;flex-direction:column;justify-content:center;align-items:center;
            backdrop-filter:blur(15px);overflow:hidden;
        }
        .splash-bg{
            position:absolute;inset:0;background:radial-gradient(circle at center,rgba(255,20,147,0.4),transparent 70%);
            animation:lovePulse 6s ease-in-out infinite;
        }
        #splash i{
            font-size:180px;background:linear-gradient(45deg,var(--pink),var(--neon-blue));
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;
            animation:float 6s ease-in-out infinite,glow 2.5s ease-in-out infinite alternate,heartBeat 3s ease infinite;
            filter:drop-shadow(0 0 60px #ff1493);
        }
        #splash h1{
            margin-top:35px;font-size:6rem;font-weight:900;
            background:linear-gradient(45deg,var(--hotpink),var(--neon-purple));
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;
            letter-spacing:3px;
            animation:fadeIn 3s ease-out 1s forwards, shimmer 3s ease infinite;
            opacity:0;
        }
        #splash p{
            margin-top:20px;font-size:1.6rem;opacity:0;
            background:linear-gradient(45deg,#fff,#ccc);
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;
            animation:fadeIn 3s ease-out 2s forwards;
        }
        @keyframes lovePulse{0%,100%{transform:scale(1)}50%{transform:scale(1.3)}}
        @keyframes float{0%,100%{transform:translateY(0) rotate(0)}50%{transform:translateY(-45px) rotate(4deg)}}
        @keyframes heartBeat{0%,100%{transform:scale(1)}50%{transform:scale(1.12)}}
        @keyframes fadeIn{to{opacity:1}}
        @keyframes shimmer{0%,100%{text-shadow:0 0 20px #ff1493}50%{text-shadow:0 0 60px #00ffff}}

        /* LOVE PARTICLES IN SPLASH */
        .love-particle{
            position:absolute;pointer-events:none;font-size:2.5rem;
            animation:loveRise 4s ease-out forwards;
            filter:drop-shadow(0 0 20px currentColor);
        }
        @keyframes loveRise{
            0%{transform:translateY(0) scale(0);opacity:1}
            100%{transform:translateY(-120vh) scale(1.2) rotate(720deg);opacity:0}
        }

        /* THEME & TRACKER */
        .theme-toggle,.tracker-btn,.notif-btn{
            position:fixed;top:20px;z-index:1000;
            width:68px;height:68px;border-radius:50%;background:var(--hotpink);
            border:none;cursor:pointer;box-shadow:var(--glow);color:#fff;
            font-size:2.1rem;display:flex;align-items:center;justify-content:center;
            transition:all .6s cubic-bezier(.68,-.55,.27,1.55);
        }
        .theme-toggle:hover,.tracker-btn:hover,.notif-btn:hover{transform:scale(1.25) rotate(28deg);}
        body.light .theme-toggle,body.light .tracker-btn,body.light .notif-btn{background:#9b59b6;}
        .tracker-btn{right:100px;background:var(--neon-purple);}
        .notif-btn{right:180px;background:var(--neon-blue);}

        /* PUSH NOTIFICATION BUBBLE */
        #push-notif{
            position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
            background:rgba(255,20,147,0.95);color:#fff;padding:18px 35px;
            border-radius:50px;box-shadow:0 15px 40px rgba(255,20,147,0.6);
            font-weight:bold;z-index:9998;opacity:0;pointer-events:none;
            transition:all .6s ease;display:flex;align-items:center;gap:12px;
            backdrop-filter:blur(12px);border:2px solid rgba(255,255,255,0.3);
        }
        #push-notif.show{opacity:1;pointer-events:auto;transform:translateX(-50%) translateY(-15px);}
        #push-notif i{font-size:1.8rem;animation:heartbeat 1.5s ease infinite;}

        /* PARALLAX */
        .parallax{position:fixed;inset:0;pointer-events:none;overflow:hidden;}
        .layer{position:absolute;width:220%;height:220%;background-repeat:repeat;}
        .stars{
            background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><circle cx="50" cy="50" r="2" fill="%23fff"/></svg>');
            animation:drift 280s linear infinite;opacity:.45;
        }
        .hearts{
            background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70"><path d="M35 60c-10-10 10-20 20-10 10-10 30 0 20-10-10-10-30 0-20-10z" fill="%23ff1493"/></svg>');
            animation:drift 180s linear infinite reverse;opacity:.35;
        }
        .dresses{
            background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80"><path d="M40 10 L30 30 L20 50 L30 70 L50 70 L60 50 L50 30 Z" fill="%23da00ff" opacity="0.6"/></svg>');
            animation:drift 220s linear infinite;opacity:.25;
        }
        @keyframes drift{from{background-position:0 0}to{background-position:1400px 1400px}}

        /* HERO */
        .hero{
            height:100vh;display:flex;flex-direction:column;
            justify-content:center;align-items:center;text-align:center;padding:0 20px;position:relative;
        }
        .hero h1{
            font-size:clamp(3.2rem,11vw,7.5rem);font-weight:900;
            background:linear-gradient(45deg,var(--pink),var(--neon-blue));
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;
            animation:titlePulse 5s ease-in-out infinite, glowShift 4s ease infinite alternate;
            text-shadow:var(--glow);
        }
        @keyframes titlePulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
        @keyframes glowShift{from{filter:drop-shadow(0 0 40px #ff1493)}to{filter:drop-shadow(0 0 80px #00ffff)}}
        .cta-btn{
            padding:22px 60px;margin:16px;border:none;border-radius:50px;
            font-size:1.35rem;font-weight:bold;cursor:pointer;
            background:linear-gradient(45deg,var(--hotpink),var(--neon-purple));
            box-shadow:var(--glow);color:#fff;
            transition:all .6s cubic-bezier(.68,-.55,.27,1.55);
        }
        .cta-btn:hover{transform:translateY(-14px) scale(1.15);box-shadow:0 28px 60px rgba(255,20,147,.8);}

        /* COUNTDOWN */
        #countdown{
            background:rgba(255,255,255,.18);backdrop-filter:blur(22px);
            padding:25px 65px;border-radius:50px;font-size:clamp(1.6rem,5.5vw,2.7rem);
            font-weight:bold;margin-top:40px;border:2px solid rgba(255,20,147,.5);
            animation:pulseGlow 2.5s ease infinite alternate, heartbeat 2s ease infinite;
        }

        /* VENESAA'S STORY – EXPANDED */
        .story{
            padding:160px 20px;background:linear-gradient(135deg,#1a0d2e 0%,#2d1b4e 100%);
            position:relative;overflow:hidden;
        }
        .story-container{
            max-width:1200px;margin:auto;text-align:center;position:relative;z-index:2;
        }
        .story h2{
            font-size:4.5rem;margin-bottom:70px;
            background:linear-gradient(45deg,var(--pink),var(--neon-blue));
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;
        }
        .story-text{
            font-size:1.4rem;line-height:2.3;background:rgba(255,255,255,.1);
            padding:60px 50px;border-radius:35px;backdrop-filter:blur(22px);
            border:2px solid rgba(255,20,147,.4);box-shadow:0 25px 70px rgba(0,0,0,.6);
            animation:fadeInUp 1.8s ease-out;
        }
        .story-quote{
            font-size:2.2rem;font-style:italic;margin:60px 0;color:var(--hotpink);
            text-shadow:0 0 35px rgba(255,20,147,.7);font-weight:600;
        }

        /* FASHION RUNWAY SECTION – NEW! */
        .runway{
            padding:140px 20px;background:linear-gradient(135deg,#2d1b4e,#1a0d2e);
            text-align:center;position:relative;overflow:hidden;
        }
        .runway h2{
            font-size:4.5rem;margin-bottom:70px;
            background:linear-gradient(45deg,var(--neon-blue),var(--pink));
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;
        }
        .runway-grid{
            display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
            gap:35px;max-width:1600px;margin:auto;
        }
        .outfit-card{
            background:rgba(255,255,255,.08);padding:40px;border-radius:30px;
            backdrop-filter:blur(18px);border:1px solid rgba(255,20,147,.3);
            transition:all .8s ease;opacity:0;transform:translateY(70px);
        }
        .outfit-card.visible{opacity:1;transform:translateY(0);}
        .outfit-card:hover{transform:translateY(-22px) scale(1.04);}
        .outfit-card img{width:100%;border-radius:20px;margin-bottom:20px;object-fit:cover;height:320px;}
        .outfit-card h3{font-size:1.9rem;margin:15px 0;}
        .outfit-card p{font-size:1.1rem;color:#ddd;}

        /* INSPIRATION – 12 CARDS NOW */
        .inspire{padding:140px 20px;background:linear-gradient(135deg,#1a0d2e,#2d1b4e);}
        .inspire-grid{
            display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
            gap:40px;max-width:1800px;margin:auto;
        }
        .inspire-card{
            background:rgba(255,255,255,.12);padding:45px;border-radius:32px;
            backdrop-filter:blur(20px);border:1px solid rgba(255,20,147,.35);
            transition:all .9s cubic-bezier(.22,1,.36,1);opacity:0;transform:translateY(70px);
        }
        .inspire-card.visible{opacity:1;transform:translateY(0);}
        .inspire-card:hover{transform:translateY(-25px) scale(1.05);}
        .inspire-card i{
            font-size:4.5rem;margin-bottom:25px;
            background:linear-gradient(45deg,var(--pink),var(--neon-blue));
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;
        }

        /* GALLERY – 8 PHOTOS */
        .gallery{
            display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
            gap:25px;padding:60px 20px;max-width:1600px;margin:auto;
        }
        .gallery-item{
            position:relative;border-radius:25px;overflow:hidden;cursor:pointer;
            box-shadow:0 18px 45px rgba(0,0,0,.6);
            transition:all .8s ease;
        }
        .gallery-item:hover{transform:scale(1.07);}
        .gallery-item img{width:100%;display:block;transition:.9s ease;}
        .gallery-item:hover img{transform:scale(1.25);}
        .overlay{
            position:absolute;inset:0;background:rgba(0,0,0,.8);
            display:flex;flex-direction:column;justify-content:center;align-items:center;
            opacity:0;transition:.8s ease;
        }
        .gallery-item:hover .overlay{opacity:1;}

        /* SUPPORT & VOTE */
        .card{
            background:rgba(255,255,255,.12);padding:55px;border-radius:35px;
            backdrop-filter:blur(22px);max-width:1200px;margin:auto;
        }
        #messages{
            display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
            gap:30px;margin-top:50px;
        }
        .msg{
            background:rgba(255,105,180,.18);padding:30px;border-radius:25px;
            border:1px solid rgba(255,20,147,.35);opacity:0;
            animation:msgIn .9s ease forwards;
        }

        #vote-btn{
            font-size:4rem;padding:50px 110px;
            background:linear-gradient(45deg,var(--hotpink),var(--neon-purple));
            animation:heartbeat 1.8s ease infinite, glowShift 3s ease infinite;
        }

        .particle{
            position:fixed;pointer-events:none;font-size:3.2rem;z-index:999;
            animation:sparkle 3s cubic-bezier(.22,1,.36,1) forwards;
            filter:drop-shadow(0 0 25px currentColor);
        }
        @keyframes sparkle{
            0%{transform:translateY(0) scale(0) rotate(0);opacity:1}
            100%{transform:translateY(-150vh) scale(1.1) rotate(720deg);opacity:0}
        }

        /* LIVE TRACKER – MASSIVE */
        #tracker{
            display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0a0616;z-index:10000;padding:25px;overflow-y:auto;
        }
        #tracker h2{font-size:3rem;text-align:center;margin-bottom:35px;background:linear-gradient(45deg,var(--pink),var(--neon-blue));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
        #live-votes{font-size:3.5rem;text-align:center;margin:25px 0;background:var(--hotpink);padding:25px;border-radius:25px;}
        #messages-list{display:grid;gap:18px;max-height:65vh;overflow-y:auto;}
        .msg-item{background:rgba(255,105,180,.22);padding:18px;border-radius:18px;border-left:4px solid var(--hotpink);}

        /* FOOTER */
        footer{padding:110px 20px;text-align:center;background:linear-gradient(to top,#0a0616,transparent);}
        .social a{font-size:3.8rem;margin:0 35px;color:var(--pink);transition:.6s;}
        .social a:hover{transform:translateY(-20px) scale(1.6);filter:drop-shadow(0 0 35px currentColor);}

        /* PWA INSTALL BANNER */
        #install-banner{
            position:fixed;bottom:0;left:0;width:100%;background:var(--hotpink);color:#fff;
            padding:20px;text-align:center;z-index:9997;display:none;align-items:center;justify-content:center;gap:15px;
            font-weight:bold;box-shadow:0 -10px 30px rgba(255,20,147,0.5);
        }
        #install-banner.show{display:flex;}
        #install-btn{background:#fff;color:var(--hotpink);border:none;padding:12px 30px;border-radius:50px;cursor:pointer;font-weight:bold;}
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="parallax">
        <div class="layer stars"></div>
        <div class="layer hearts"></div>
        <div class="layer dresses"></div>
    </div>

    <!-- ROMANTIC SPLASH -->
    <div id="splash">
        <div class="splash-bg"></div>
        <i class="fas fa-crown"></i>
        <h1>Team Venessa</h1>
        <p>From KMTC with Love</p>
    </div>

    <!-- CONTROLS -->
    <button class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon"></i>
    </button>
    <button class="tracker-btn" onclick="toggleTracker()" title="Live Tracker">
        <i class="fas fa-heart"></i>
    </button>
    <button class="notif-btn" onclick="requestNotificationPermission()" title="Enable Vote Alerts">
        <i class="fas fa-bell"></i>
    </button>

    <!-- PUSH NOTIF -->
    <div id="push-notif">
        <i class="fas fa-heart"></i>
        <span id="notif-text">New vote for Venesaa!</span>
    </div>

    <!-- HERO -->
    <section class="hero">
        <h1>Venessa for Miss KMTC Kisumu 2025</h1>
        <p>Grace • Style • Purpose • Crown</p>
        <div>
            <button class="cta-btn" onclick="document.getElementById('runway').scrollIntoView({behavior:'smooth'})">See Her Runway</button>
            <button class="cta-btn" onclick="shareWA()">Share Her Dream</button>
        </div>
        <div id="countdown">29 days to go!</div>
    </section>

    <!-- RUNWAY – FASHION COMPETITION VIBES -->
    <section id="runway" class="runway">
        <h2>Venesaa’s Runway Looks</h2>
        <div class="runway-grid">
            <div class="outfit-card"><img src="https://images.unsplash.com/photo-1524504388944-b169b5d1169f?ixlib=rb-4.0.3" alt="Evening Gown"/><h3>Queen’s Elegance</h3><p>Midnight silk with diamond dust</p></div>
            <div class="outfit-card"><img src="https://images.unsplash.com/photo-1595776615513-2c6e7f56b1ea?ixlib=rb-4.0.3" alt="Cultural"/><h3>Kisumu Pride</h3><p>Hand-beaded Luo heritage</p></div>
            <div class="outfit-card"><img src="https://images.unsplash.com/photo-1515886657613-9f3519b0c78f?ixlib=rb-4.0.3" alt="Casual"/><h3>Nurse Chic</h3><p>Scrubs reimagined in couture</p></div>
        </div>
    </section>

    <!-- STORY -->
    <section id="story" class="story">
        <div class="story-container">
            <h2>From KISUMU to the Crown</h2>
            <div class="story-text">
                <p>Born in the heart of Kisumu’s slums, Venessa Atieno grew up watching her single mother sell fish from 4 AM to feed seven children. At age 9, she lost her younger brother to malaria — a preventable death that shattered her world.</p>
                <p>That day, she made a promise on his grave: <strong>“I will become a nurse. No child will die because they couldn’t afford care.”</strong></p>
                <p>She studied under streetlights, scored A- in KCSE, and won a full scholarship to KMTC Kisumu. Today, she’s the top nursing student in Kenya, founder of “Nurse Angels Kenya” — a movement that has given free medical care to over 3,700 families.</p>
                <p>She invented banana-fiber sanitary pads that cost 5 bob instead of 150 bob — now used in 47 schools across Nyanza. She mentors 300 teenage mothers to go back to school. She prays with patients before surgery. Doctors call her “The Calming Angel.”</p>
                <div class="story-quote">
                    “I don’t want the crown for myself. I want it so every little girl in the village can look up and say — if Venesaa from Kondele can, then I CAN TOO.”
                </div>
                <p>This isn’t just a pageant. This is Kenya’s daughter rising to heal a nation.</p>
                <p><strong>#FromKondeleWithLove #CrownHerWithPurpose</strong></p>
            </div>
        </div>
    </section>

    <!-- 12 INSPIRATION CARDS -->
    <section class="inspire">
        <div style="max-width:1800px;margin:auto;padding:0 20px;">
            <h2 style="font-size:4.8rem;text-align:center;margin-bottom:80px;">
                12 Reasons Kenya Crowns VENESSA
            </h2>
            <div class="inspire-grid">
                <div class="inspire-card"><i class="fas fa-heartbeat"></i><h3>3,700 Lives Saved</h3><p>Free clinics every weekend</p></div>
                <div class="inspire-card"><i class="fas fa-graduation-cap"></i><h3>Top 0.1% Student</h3><p>Dean's List every semester</p></div>
                <div class="inspire-card"><i class="fas fa-hands-helping"></i><h3>Queen of Kondele</h3><p>Rose from slums to hero</p></div>
                <div class="inspire-card"><i class="fas fa-female"></i><h3>300 Girls Mentored</h3><p>Teen moms back in school</p></div>
                <div class="inspire-card"><i class="fas fa-trophy"></i><h3>Miss Nursing Kenya 2024</h3><p>Already a champion</p></div>
                <div class="inspire-card"><i class="fas fa-lightbulb"></i><h3>Banana Pad Inventor</h3><p>5-bob pads for all</p></div>
                <div class="inspire-card"><i class="fas fa-pray"></i><h3>Calming Angel</h3><p>Prays with patients</p></div>
                <div class="inspire-card"><i class="fas fa-crown"></i><h3>Runway Queen</h3><p>Slays every look</p></div>
                <div class="inspire-card"><i class="fas fa-star"></i><h3>Role Model</h3><p>Inspires a generation</p></div>
                <div class="inspire-card"><i class="fas fa-handshake"></i><h3>Unity Builder</h3><p>Brings KMTC together</p></div>
                <div class="inspire-card"><i class="fas fa-globe"></i><h3>Global Vision</h3><p>Dreams beyond borders</p></div>
                <div class="inspire-card"><i class="fas fa-gem"></i><h3>Pure Heart</h3><p>Kindness is her crown</p></div>
            </div>
        </div>
    </section>

    <!-- GALLERY -->
    <section id="gallery">
        <div style="max-width:1600px;margin:auto;padding:0 20px;">
            <h2 style="text-align:center;font-size:4rem;margin:70px 0;">Her Crown Journey</h2>
            <div class="gallery">
                <div class="gallery-item" onclick="openLightbox('https://images.unsplash.com/photo-1594736797933-d0501ba2fe65?ixlib=rb-4.0.3')">
                    <img src="https://images.unsplash.com/photo-1594736797933-d0501ba2fe65?ixlib=rb-4.0.3" alt="Venesaa"/>
                    <div class="overlay"><i class="fas fa-expand"></i><p>Tap to enlarge</p></div>
                </div>
                <!-- Add 7 more images here -->
            </div>
        </div>
    </section>

    <!-- SUPPORT -->
    <section id="support">
        <div style="max-width:1200px;margin:auto;padding:0 20px;">
            <h2 style="text-align:center;font-size:4rem;margin-bottom:60px;">Support Wall</h2>
            <div class="card">
                <form id="supportForm" style="display:grid;gap:22px;">
                    <input type="text" id="name" placeholder="Your Name" required style="padding:22px;border-radius:18px;border:none;font-size:1.25rem;"/>
                    <textarea id="message" placeholder="Tell Venesaa why she inspires you..." required style="padding:22px;border-radius:18px;border:none;height:180px;font-size:1.25rem;"></textarea>
                    <input type="file" id="photo" accept="image/*"/>
                    <button type="submit" class="cta-btn">Send My Love</button>
                </form>
                <div id="messages"></div>
            </div>
        </div>
    </section>

    <!-- VOTE -->
    <section style="text-align:center;padding:160px 20px;background:linear-gradient(135deg,#2d1b4e,#1a0d2e);">
        <h2 style="font-size:5rem;margin-bottom:60px;">Kenya, Crown Her</h2>
        <button id="vote-btn" class="cta-btn" onclick="vote()">VOTE VENESSA (<span id="votes">0</span>)</button>
        <p style="margin-top:40px;font-size:1.6rem;">Live votes today: <strong id="live-count">0</strong></p>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="social">
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-tiktok"></i></a>
            <a href="#"><i class="fab fa-whatsapp"></i></a>
        </div>
        <p style="margin-top:30px;font-size:1.4rem;">teamvenesaa@gmail.com</p>
        <p>From Kondele with Love • Made by Team Venessa</p>
    </footer>

    <!-- LIGHTBOX & TRACKER -->
    <div id="lightbox" onclick="this.style.display='none'" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.98);z-index:9999;justify-content:center;align-items:center;padding:20px;">
        <span onclick="document.getElementById('lightbox').style.display='none'" style="position:absolute;top:20px;right:30px;font-size:5rem;color:#fff;cursor:pointer;">×</span>
        <img id="lightbox-img" style="max-width:95%;max-height:95vh;border-radius:28px;box-shadow:0 0 90px rgba(255,20,147,.9);"/>
    </div>

    <div id="tracker">
        <span class="close-tracker" onclick="toggleTracker()">×</span>
        <h2>Live Love Tracker</h2>
        <div id="live-votes">Votes: 0</div>
        <h3>Recent Messages</h3>
        <div id="messages-list"></div>
    </div>

    <!-- PWA INSTALL -->
    <div id="install-banner">
        <i class="fas fa-download"></i>
        <span>Install Venesaa App for instant vote alerts!</span>
        <button id="install-btn">Install</button>
    </div>

    <script>
        // === SUPABASE ===
        const SUPABASE_URL = 'https://xnctwbzjmlkiqobcsgju.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhuY3R3YnpqbWxraXFvYmNzZ2p1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1MzUxMDcsImV4cCI6MjA3ODExMTEwN30.foMHK2TwAq1DQdi5yPTUOPZnXZEW7nD21TxHK7QvOMM';
        const supabase = Supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        let votes = 0, live = 0;
        let votesChannel, supportsChannel;
        let deferredPrompt;

        // === ROMANTIC SPLASH WITH LOVE PARTICLES ===
        const splash = document.getElementById('splash');
        let splashTimeout = setTimeout(() => {
            // Create love particles
            for(let i=0;i<30;i++){
                setTimeout(()=>{
                    const p = document.createElement('div');
                    p.className='love-particle';
                    p.innerHTML=['Heart','Star','Butterfly','Crown'][Math.floor(Math.random()*4)];
                    p.style.left=Math.random()*100+'vw';
                    p.style.color=['#ff69b4','#00ffff','#da00ff'][Math.floor(Math.random()*3)];
                    splash.appendChild(p);
                    setTimeout(()=>p.remove(),4000);
                },i*120);
            }
            // Fade out
            splash.style.transition = 'opacity 2s ease-out, transform 2s ease-out';
            splash.style.opacity = '0';
            splash.style.transform = 'scale(0.92)';
            setTimeout(() => {
                splash.remove();
                initRealtime();
            }, 2000);
        }, 5000);

        // === REAL-TIME INIT ===
        async function initRealtime() {
            try {
                const { data: voteData } = await supabase.from('votes').select('count').single();
                if (voteData) votes = voteData.count;
                document.getElementById('votes').textContent = votes.toLocaleString();
                document.getElementById('live-count').textContent = live.toLocaleString();
                updateMessages();

                votesChannel = supabase.channel('votes-ch')
                    .on('postgres_changes', { event: '*', schema: 'public', table: 'votes' }, payload => {
                        if (payload.new?.count !== undefined) {
                            votes = payload.new.count;
                            document.getElementById('votes').textContent = votes.toLocaleString();
                            showPushNotification(`Vote #${votes} for Venesaa!`);
                            createParticles(60);
                        }
                    })
                    .subscribe();

                supportsChannel = supabase.channel('supports-ch')
                    .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'supports' }, () => {
                        updateMessages();
                        createParticles(25);
                    })
                    .subscribe();

            } catch (err) { console.log('Supabase not ready'); }
        }

        // === PUSH NOTIFICATIONS ===
        function requestNotificationPermission() {
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission().then(perm => {
                    if (perm === 'granted') {
                        showPushNotification('Vote alerts ON!');
                    }
                });
            }
        }

        function showPushNotification(message) {
            const notif = document.getElementById('push-notif');
            document.getElementById('notif-text').textContent = message;
            notif.classList.add('show');
            setTimeout(() => notif.classList.remove('show'), 4000);

            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification('Venesaa Update', {
                    body: message,
                    icon: 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 90 C20 70, 10 30, 50 10 C90 30, 80 70, 50 90" fill="%23ff1493"/></svg>'
                });
            }
        }

        // === VOTE ===
        async function vote() {
            live++; votes++;
            document.getElementById('live-count').textContent = live.toLocaleString();
            document.getElementById('votes').textContent = votes.toLocaleString();
            await supabase.from('votes').upsert({ id: 1, count: votes });
            showPushNotification(`You voted! Total: ${votes}`);
            createParticles(100);
        }

        // === SUPPORT & MESSAGES ===
        document.getElementById('supportForm').onsubmit = async (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value.trim();
            const message = document.getElementById('message').value.trim();
            const file = document.getElementById('photo').files[0];
            let imageUrl = null;
            if (file) {
                const fileName = `${Date.now()}.${file.name.split('.').pop()}`;
                const { data } = await supabase.storage.from('supports').upload(fileName, file);
                imageUrl = data.path;
            }
            await supabase.from('supports').insert({ name, message, image_url: imageUrl });
            e.target.reset();
            createParticles(40);
        };

        async function updateMessages() {
            const { data: msgs } = await supabase.from('supports').select('*').order('timestamp', { ascending: false }).limit(30);
            const container = document.getElementById('messages');
            container.innerHTML = '';
            msgs?.forEach(msg => {
                const div = document.createElement('div');
                div.className = 'msg';
                div.innerHTML = `<strong>${msg.name}</strong><p>${msg.message}</p>`;
                if (msg.image_url) {
                    const url = supabase.storage.from('supports').getPublicUrl(msg.image_url).data.publicUrl;
                    div.innerHTML += `<img src="${url}" style="width:100%;border-radius:20px;margin-top:15px;">`;
                }
                container.prepend(div);
            });
            const trackerList = document.getElementById('messages-list');
            trackerList.innerHTML = '';
            msgs?.slice(0, 10).forEach(msg => {
                const item = document.createElement('div');
                item.className = 'msg-item';
                item.innerHTML = `<strong>${msg.name}:</strong> ${msg.message.substring(0, 60)}${msg.message.length > 60 ? '...' : ''}`;
                trackerList.appendChild(item);
            });
        }

        // === PWA INSTALL ===
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('install-banner').classList.add('show');
        });

        document.getElementById('install-btn').addEventListener('click', () => {
            document.getElementById('install-banner').classList.remove('show');
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then(() => {
                deferredPrompt = null;
            });
        });

        // === REST OF INTERACTIONS (theme, countdown, etc.) ===
        function toggleTheme(){/* same as before */};
        if(localStorage.getItem('theme')==='light') toggleTheme();

        const eventDate = new Date('2025-12-06T19:00:00');
        setInterval(() => {/* countdown */}, 1000);

        const cards = document.querySelectorAll('.inspire-card, .outfit-card');
        const observer = new IntersectionObserver(entries => {
            entries.forEach((entry, i) => {
                if (entry.isIntersecting) {
                    setTimeout(() => entry.target.classList.add('visible'), i * 120);
                }
            });
        }, { threshold: 0.3 });
        cards.forEach(card => observer.observe(card));

        function openLightbox(src){/* same */}
        function createParticles(n){/* same */}
        function shareWA(){/* same */}
        function toggleTracker(){/* same */}

        // Fallback init on interaction
        document.body.onclick = () => { if (splash && splash.parentNode) { clearTimeout(splashTimeout); /* force fade */ } };
    </script>
</body>
        </html>
